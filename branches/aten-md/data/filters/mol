# MDL Mol File (for v1.2+)
# Created:	 12/04/2009
# Last modified: 12/04/2009
# ChangeLog:

filter(type="importmodel",name="MDL Mol File", nickname="mol", extension="mol", glob="*.mol", id=10)
{
	# Variable declaration
	string line,e,title;
	int n,natoms,nbonds,ii,jj,bondtype;
	double rx,ry,rz;
	
	# Create default model
	getline(title);
	newmodel(title);
	
	skipline(2);
	
	readline(natoms,nbonds);
	
	for (n=0; n<natoms; ++n)
	{
		readline(rx,ry,rz,e);
		newatom(e,rx,ry,rz);
	}
	
	for (n=0; n<nbonds; ++n)
	{
		readline(ii,jj,bondtype);
		newbond(ii,jj,bondtype);
	}
	
	finalisemodel();
}

