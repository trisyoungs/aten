<section id="gui.toolwindows.transform"><title>Atom Transform Window</title>
	<indexterm><primary>GUI</primary><secondary>tool windows</secondary><tertiary>atom transform</tertiary></indexterm>
	
	<para>
		<inlinegraphic fileref="images/stack_transform.png"/>Atom Transform Window
	</para>

	<para>For a selection of atoms, rotational or matrix-based transformations can be applied through the Transform Window.</para>
	
	<section><title>Rotation About Arbitrary Axis</title>
		
		<figure><title>Atom Transform Window, Rotate Panel</title>
			<graphic fileref="images/window_transform_rotate.png" align="center"/>
		</figure>
		
		<para>The Rotate panel allows an origin and a rotation axis about this origin to be defined about which to rotate atom selections. The origin and axis may be entered manually, can be determined from  a current atom selection, or defined by the click-selection of two atoms. Defining the rotation axis from the current selection will set the axis to the vector between the currently-defined origin and the centre of geometry of the current atom selection. Rotations of atom selections about this axis/origin combination are then made by defining the angle of rotation (in degrees) and then applying the rotation either clockwise or anticlockwise.</para>
		
		<table frame='all' pgwide='1' tocentry='0'>
			<tgroup cols='3' align='left' colsep='1' rowsep='1'>
				<tbody>
					<row>
						<entry><inlinegraphic fileref="images/general_define.png"/></entry>
						<entry>(Left) Define rotation origin from current atom selection</entry>
					</row>
					<row>
						<entry><inlinegraphic fileref="images/general_define.png"/></entry>
						<entry>(Right) Define rotation axis as the vector between current origin and centre of current selection</entry>
					</row>
					<row>
						<entry><inlinegraphic fileref="images/general_define.png"/></entry>
						<entry>(Right) Define rotation axis from two picked atoms</entry>
					</row>
					<row>
						<entry><inlinegraphic fileref="images/arrow_clockwise.png"/></entry>
						<entry>Rotate current atom selection clockwise around defined axis/origin</entry>
					</row>
					<row>
						<entry><inlinegraphic fileref="images/arrow_anticlockwise.png"/></entry>
						<entry>Rotate current atom selection counter-clockwise around defined axis/origin</entry>
					</row>
				</tbody>
			</tgroup>
		</table>

	</section>
	
	<section><title>Matrix Transformation</title>
		
		<figure><title>Atom Transform Window, Matrix Transform Panel</title>
			<graphic fileref="images/window_transform_transform.png" align="center"/>
		</figure>
		
		<para>From here a 3x3 transformation matrix can be applied to the current atom selection, and with a specific coordinate origin (not necessarily the centre of geometry of the selection).</para>

		<table frame='all' pgwide='1' tocentry='0'>
			<tgroup cols='3' align='left' colsep='1' rowsep='1'>
				<tbody>
					<row>
						<entry><inlinegraphic fileref="images/general_pick.png"/></entry>
						<entry>Define the matrix rows from pairs of picked atoms</entry>
					</row>
					<row>
						<entry><inlinegraphic fileref="images/vector_normalise.png"/></entry>
						<entry>Normalise the matrix row to be a unit vector</entry>
					</row>
					<row>
						<entry><inlinegraphic fileref="images/vector_orthogonalise.png"/></entry>
						<entry>Orthogonalise the matrix row with respect to the other rows</entry>
					</row>
					<row>
						<entry><inlinegraphic fileref="images/vector_generatexp.png"/></entry>
						<entry>Generate the matrix row from the cross product of the other two</entry>
					</row>
					<row>
						<entry><inlinegraphic fileref="images/basic_define.png"/></entry>
						<entry>Define transformation origin from the centre of geometry of the current atom selection</entry>
					</row>
					<row>
						<entry><inlinegraphic fileref="images/stack_celldefine.png"/></entry>
						<entry>Define transformation origin to be the centre of the current unit cell</entry>
					</row>
				</tbody>
			</tgroup>
		</table>
		
	</section>
	
	<section><title>Matrix Conversion</title>
		
		<figure><title>Atom Transform Window, Matrix Convert Panel</title>
			<graphic fileref="images/window_transform_convert.png" align="center"/>
		</figure>
	</section>
	
	<para>It is possible to transform the orientation of a given set of atoms if a suitable pair of source and destination matrices are defined - this page attempts to do so! The 'Source' matrix defines what should be considered the current frame of reference for the current set of coordinates, while the 'Target' matrix defines what the 'Source' matrix should become after the operation.</para>

	<table frame='all' pgwide='1' tocentry='0'>
		<tgroup cols='3' align='left' colsep='1' rowsep='1'>
			<tbody>
				<row>
					<entry><inlinegraphic fileref="images/general_pick.png"/></entry>
					<entry>Define the matrix rows from pairs of picked atoms</entry>
				</row>
				<row>
					<entry><inlinegraphic fileref="images/vector_normalise.png"/></entry>
					<entry>Normalise the matrix row to be a unit vector</entry>
				</row>
				<row>
					<entry><inlinegraphic fileref="images/vector_orthogonalise.png"/></entry>
					<entry>Orthogonalise the matrix row with respect to the other rows</entry>
				</row>
				<row>
					<entry><inlinegraphic fileref="images/vector_generatexp.png"/></entry>
					<entry>Generate the matrix row from the cross product of the other two</entry>
				</row>
				<row>
					<entry><inlinegraphic fileref="images/basic_define.png"/></entry>
					<entry>Define transformation origin from the centre of geometry of the current atom selection</entry>
				</row>
				<row>
					<entry><inlinegraphic fileref="images/stack_celldefine.png"/></entry>
					<entry>Define transformation origin to be the centre of the current unit cell</entry>
				</row>
			</tbody>
		</tgroup>
	</table>

</section>