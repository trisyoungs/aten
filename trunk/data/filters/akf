# Aten 'Custom' file format example using keywords, and includes glyphs
# Last modified: 07/03/2008
importmodel
	name "Aten Keyword Format"
	nickname akf
	extension akf
	glob *.akf
	id 2

	# Variable declaration
	integer natoms,n,i,j,k
	character e,keywd,line
	double rx,ry,rz

	newmodel Nu
	# Read line
	for $n
		readline "$keywd $line@100"
		if $keywd = atom
			readvar $line "$e $rx $ry $rz"
			addatom $e
			setcoords $rx $ry $rz
		elseif $keywd = arrow
			readvar $line "$i $j"
			addglyph arrow
			setglyphatomr 1 $i
			setglyphatomr 2 $j
		elseif $keywd = sphere
			readvar $line "$i $rx $ry $rz"
			addglyph sphere
			setglyphatomr 1 $i
			setglyphdata 2 $rx $ry $rz
		elseif $keywd = cube
			readvar $line "$i $rx $ry $rz"
			addglyph cube
			setglyphatomr 1 $i
			setglyphdata 2 $rx $ry $rz
		elseif $keywd = tet
			readvar $line "$i $j $k"
			addglyph tetrahedron
			setglyphatomr 1 $i
			setglyphatomr 2 $j
			setglyphatomr 3 $k
		end if
	end
	rebond
	selectall
	centre 0 0 0
	finalisemodel
end
#exportmodel
#	name "XMol XYZ Coordinates"
#	extension xyz
#	glob *.xyz
#	nickname xyz
#	id 2
#
#	# Variable declaration
#	integer n
#	character e
#	double rx,ry,rz
#	atom i
#
#	writeline "$natoms"
#	writeline "$title"
#	for $i
#		writeline "$i.symbol@3   $i.rx@12.6   $i.ry@12.6   $i.rz@12.6"
#	end
#end
#importtrajectory
#	name "XMol XYZ Coordinates"
#	extension "xyz"
#	glob *xyz
#	nickname xyz
#
#	# Variable declaration
#	integer n
#	character e,title
#	double rx,ry,rz
#
#	# No header in XYZ trajectories, so only check for frames
#	if $header <> true
#		readline "$natoms"
#		readline "$title"
#		# Now the atoms
#		modeltemplate
#		for $n,1,$natoms
#			readline "$e $rx $ry $rz"
#			setcoords $rx $ry $rz $n
#		end
#		rebond
#		centre 0 0 0
#	end
#end
