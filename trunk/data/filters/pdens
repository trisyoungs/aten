# Simple-style surface definition
# Last modified: 10/10/07
importgrid
	name "Probability Densities from pdens"
	nickname pdens
	extension pdens
	glob *.pdens*

	# Variable declarations
	integer n,nx,ny,nz,npoints
	double spacing,ox,oy,oz,data

	# Create new grid
	newgrid NewGrid

	# Set loop order
	gridlooporder zyx

	# First line contains number of gridpoints in each direction x,y,z
	readline "$nx $ny $nz"
	gridsize $nx $ny $nz
	# Second line contains spacing between gridpoints (assuming cubic grid)
	readline "$spacing"
	gridcubic $spacing
	# Third line contains grid origin (lower left-hand corner)
	readline "$ox $oy $oz"
	gridorigin $ox $oy $oz

	# Read in grid data
	eval $npoints = "$nx * $ny * $nz"
	for $n,1,$npoints
		readline "$data"
		addnextgridpoint $data
	end
	finalisegrid
end
