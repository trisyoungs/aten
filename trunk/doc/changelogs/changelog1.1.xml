<section id="changelogs.1.1"><title>Version 1.1</title>
	<indexterm zone="changelogs.1.1"><primary>changelogs</primary><secondary>1.1</secondary></indexterm>

	<para>Version 1.1 (released 20th May 2009) will be the last version to contain the old-style Tcl-like scripting language. All following versions will use the new C-style syntax, and will be incompatible with filters/scripts from versions up to 1.1.</para>

	<para>SVN ChangeLog follows:</para>
	
	<para><emphasis>Revision 911</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Adjusted aten.dsc so its ripe for sedding.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 910</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Fix to commit script to ensure proper (global) revision renumbering.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 909</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Update debian build files.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 815</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Colourscale-based colouring of Grid data was not working properly (some flags were not set correctly) - fixed.</para>
		</listitem>
		<listitem>
			<para>Density-type Grids are now rendered in the colourscale colours (if one is assigned).</para>
		</listitem>
		<listitem>
			<para>Added 'gridvisible' command, and fixed 'getgrid' and 'grid' (variable creation) commands.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 814</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Minor (but important) change to DL_POLY model export filter.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 793</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Fixed formatting of spacegroup names.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 792</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Added 'nselected' to ModelAccessors.</para>
		</listitem>
		<listitem>
			<para>Added 'normalise', 'selectioncog' and 'selectioncom' commands.</para>
		</listitem>
		<listitem>
			<para>Added Model::selectionCom().</para>
		</listitem>
		<listitem>
			<para>New bonding code was still missing some bonds at the edges of unit cells - fixed.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 791</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Fixed inhibition of atom trimming in cell replication.</para>
		</listitem>
		<listitem>
			<para>Added more verbose output to 'replicatefold' and 'replicatetrim' commands.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 790</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Fixed badly written Atom::nextSelected() causing endless loops or crashes in some parts of the code.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 789</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Added '-n' switch to create new model (equivalent to -c &quot;newmodel x&quot;).</para>
		</listitem>
		<listitem>
			<para>Better axis handling in 'pdens' filter.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 788</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Removed Model::firstMarked() in favour of extending Model::firstSelected() with optional 'bool markonly' argument (also related function in Atom).</para>
		</listitem>
		<listitem>
			<para>Added 'rotatecell' command to rotate cell and its contents about one of the Cartesian axes - final action as yet undecided.</para>
		</listitem>
		<listitem>
			<para>Fixed bug in new bonding code.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 787</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>New rebonding code - approx 100 times faster for large systems.</para>
		</listitem>
		<listitem>
			<para>Added assignment operator=T to Vec3&lt;T&gt;.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 786</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Fixed bug in Model::resetCamera() which meant that 'setview' would result in the wrong camera y-position (inverted).</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 785</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Renamed 'OnImage' properties in Prefs to OffScreen for clarity.</para>
		</listitem>
		<listitem>
			<para>Added flag in Canvas to specify whether off-screen rendering is being performed (for image saving).</para>
		</listitem>
		<listitem>
			<para>Grids now create a separate new display list when being rendered for an offscreen image (i.e.</para>
		</listitem>
		<listitem>
			<para>in a new context).</para>
		</listitem>
		<listitem>
			<para>Fixed bug with image saving from the GUI where grid data was not drawn (command-line usage was ok).</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 784</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Fixed 'gridcolournegative' which cause a crash.</para>
		</listitem>
		<listitem>
			<para>Added 'reorder' command and Model::reorderSelectedAtoms() to reorder (collapse) bound atoms so that they have consecutive IDs.</para>
		</listitem>
		<listitem>
			<para>Save bitmap is now a little more informative.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 783</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Transform window now starts in sensible size.</para>
		</listitem>
		<listitem>
			<para>Some unfinished updates to GUI in this revision.</para>
		</listitem>
		<listitem>
			<para>-- AtomList now lists by pattern as a separate 'mode' (selection / shift actions not fully re-implemented).</para>
		</listitem>
		<listitem>
			<para>-- CellTransform has widgets for cell rotation (but no attached functions).</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 782</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Undo state in 'expand' command closed in wrong place - fixed.</para>
		</listitem>
		<listitem>
			<para>Corrected orthographic view which was being drawn back to front.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 781</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Added 'singlealpha' zmapping type, which uses the first alpha character.</para>
		</listitem>
		<listitem>
			<para>Removed explicit 'zmap ff' command from DL_POLY model filter.</para>
		</listitem>
		<listitem>
			<para>Fixed small bugs in some commands that required element conversion and used the current zmapping style to convert names (it should have demanded the 'alpha' style).</para>
		</listitem>
		<listitem>
			<para>Added missing undo state creation for some select commands.</para>
		</listitem>
		<listitem>
			<para>Added 'deselecttype' command.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 780</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Adjusted tab order in Transform Window.</para>
		</listitem>
		<listitem>
			<para>Changed copyright notice to include this year.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 779</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>More improvements to selecting in Atomlist - undo/redo and select by pattern enabled.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 778</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Fixed small bug in Pattern::angleEnergy() which wrongly reported the lack of implemented terms for 1-3 constraint angles.</para>
		</listitem>
		<listitem>
			<para>Small fixes to supplied example scripts.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 777</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Added 'mag' (magnitude) accessor to VectorAccess.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 776</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>New command 'insertatom' which creates a new atom with the ID specified (moving atoms after it to higher IDs).</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 775</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Transform commands 'matrixconvert' and 'matrixtransform' should have been taking minimum image coordinates when working out vectors from atom IDs - fixed.</para>
		</listitem>
		<listitem>
			<para>Updated Model::selectPattern().</para>
		</listitem>
		<listitem>
			<para>'select' and 'deselect' commands now accept pattern pointers as targets.</para>
		</listitem>
		<listitem>
			<para>Potential crash when undoing atom deletion, related to atom / bond creation order - rewrote Model::selectionDelete() to be more efficient and fix issue.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 774</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Added new variable type 'vector' providing a 3-vector {x,y,z}.</para>
		</listitem>
		<listitem>
			<para>Accessors added to provide retrieval/setting of quantities with vector variables where appropriate.</para>
		</listitem>
		<listitem>
			<para>Added 'position', 'force', and 'velocity' accessors to AtomAccess.</para>
		</listitem>
		<listitem>
			<para>Added 'cog' and 'com' accessors to PatternAccess.</para>
		</listitem>
		<listitem>
			<para>Fixed CA_ATOMSTYLE which was using the wrong atom id (if one was provided).</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 773</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>The 'map' command now accepts unquoted mappings.</para>
		</listitem>
		<listitem>
			<para>Adjusted definition of axes with atom IDs in 'matrixconvert' to accept a pair of zeroes for the z-axis, meaning that the cross-product of x and y axes will be used instead.</para>
		</listitem>
		<listitem>
			<para>Fixed bug in 'getpattern' which was not using pattern IDs in the range 0-&gt;(N-1).</para>
		</listitem>
		<listitem>
			<para>Tweaked the argument lists for Pattern::calculateCom/Cog() to allow for optional Model pointer.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 772</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Commands 'toend' and 'tostart' should have been 'movetoend' and 'movetostart' - fixed.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 771</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Some test code in surface rendering routines had been inadvertently committed - repaired in this revision.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 770</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Removed debug output from AtenTransform::on_ConvertRotateIntoButton_clicked().</para>
		</listitem>
		<listitem>
			<para>Axis vectors were not normalised in Matrix Convert in Transform Window (fixed).</para>
		</listitem>
		<listitem>
			<para>Fixed generation of rotation matrix in Matrix Convert in Transform window.</para>
		</listitem>
		<listitem>
			<para>Added CA_AXISROTATE, CA_MATRIXTRANSFORM, and CA_MATRIXCONVERT commands.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 769</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Fixed crashes when applying atom style/label changes from the Selection menu.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 768</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>First part of Atomlist retrofit - undo and shift-selection from the Atomlist Window are not yet re-implemented.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 767</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Added new ring typing commands - aromatic, aliphatic, nonaromatic.</para>
		</listitem>
		<listitem>
			<para>Added preliminary detection of ring types.</para>
		</listitem>
		<listitem>
			<para>Fixed 'acyclic' atom typing keyword (it was ignored).</para>
		</listitem>
		<listitem>
			<para>Fixed critical bug in Save Model As which was not properly using the selected filename.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 766</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Overhauled file dialog usage for better uniformity - last directory now stored for all dialogs.</para>
		</listitem>
		<listitem>
			<para>Positive / negative colour controls in Grids window were the wrong way around.</para>
		</listitem>
		<listitem>
			<para>Rendering of grid data with an alpha component was broken - fixed.</para>
		</listitem>
		<listitem>
			<para>Implemented forgotten functions to cut, copy, and paste grids from one model to another.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 765</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Fixed more odd actions of atom context menu.</para>
		</listitem>
		<listitem>
			<para>Measure distances in selection did not work from the Measure Toolbar ('distances' command was ok).</para>
		</listitem>
		<listitem>
			<para>Undo/redo was not set for Measure in Selection tools on the Measure Toolbar.</para>
		</listitem>
		<listitem>
			<para>Text is now copyable from message box.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 764</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Fixed some odd actions of atom context menu.</para>
		</listitem>
		<listitem>
			<para>Minor changes to layout of status bar.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 763</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Fixed deselection modifier for tree selection.</para>
		</listitem>
		<listitem>
			<para>Better statusbar texts.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 762</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Fixed small memory leak in Canvas::endMode().</para>
		</listitem>
		<listitem>
			<para>Improved statusbar usefulness.</para>
		</listitem>
		<listitem>
			<para>Better modified selections - added optional parameter to atom selection functions in Model to request deselection instead (tree deselect [+ctrl] dysfunctional in this revision).</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 761</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Added Prefs::zoomThrottle_ to manage speed of zooming (added CA_ZOOMTHROTTLE) and scaled zoom factor relative to camera distance.</para>
		</listitem>
		<listitem>
			<para>Removed Model::orthoSize_ - transitions (i.e.</para>
		</listitem>
		<listitem>
			<para>zoom distance) between orthographic and perspective projections now match correctly.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 760</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Added help messages to status bar for current mode (partial implementation).</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 759</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Adjusted main() to search for HOMEPATH variable (Windows) if HOME (others) was not found.</para>
		</listitem>
		<listitem>
			<para>Added call to app-&gt;exit() in AtenForm::closeEvent() to properly exit on Windows.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 758</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Added 'random' implicit variable into all VariableLists.</para>
		</listitem>
		<listitem>
			<para>Fixed some comparisons in FFBoundAccessors::set().</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 757</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Small fix to Windows build.</para>
		</listitem>
		<listitem>
			<para>Fixed back face culling (now culling GL_FRONT instead of GL_BACK) and enabled by default to inmprove speed - fixes transparency rendering artefacts.</para>
		</listitem>
		<listitem>
			<para>Converted Prefs::GlOption enum to use bitshifting.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 756</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Fixed twister in text-based progress indicator.</para>
		</listitem>
		<listitem>
			<para>Significantly improved speed when deleting selections of atoms.</para>
		</listitem>
		<listitem>
			<para>Mostly implemented new SpecialVariable structure - random number generator still inaccessible.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 755</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Finished set/get for FFBoundAccess.</para>
		</listitem>
		<listitem>
			<para>Finalised loops of Models in command lists.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 754</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Added extra model management commands: CA_FIRSTMODEL, CA_LASTMODEL, and CA_CURRENTMODEL.</para>
		</listitem>
		<listitem>
			<para>Fixes to Coulomb sum energies and forces.</para>
		</listitem>
		<listitem>
			<para>Tweaked CA_AFTERCHAR to work properly when multiple occurrences of the same character were present in the source string (doh!).</para>
		</listitem>
		<listitem>
			<para>Fixed interactive mode which would execute the cached command even if the command arguments were wrong.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 753</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Fixed '+=' (string concatenation) operator in CA_LETCHAR (and improved Dnchar::cat()).</para>
		</listitem>
		<listitem>
			<para>Added string functions CA_STRIPCHARS, CA_AFTERCHAR, and CA_BEFORECHAR.</para>
		</listitem>
		<listitem>
			<para>Minor adjustment to cif filter to strip spaces from HM spacegroup name.</para>
		</listitem>
		<listitem>
			<para>Tweaked pdb filter to stop complaining (wrongly) that the HEADER record wasn't supplied.</para>
		</listitem>
		<listitem>
			<para>Tweaked CA_FINALISEMODEL which wasn't saving the filename/path if a partner filter wasn't available.</para>
		</listitem>
		<listitem>
			<para>Adjusted layout of fdf filter to correctly report the number of chemical species.</para>
		</listitem>
		<listitem>
			<para>Setting an array value without an index now sets all array items to this value (a la Fortran).</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 752</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Removed debug output from GuiQt::saveImage().</para>
		</listitem>
		<listitem>
			<para>Renamed CA_GRIDTRANSPARENCY to CA_GRIDALPHA, and Grid::setTransparency() and Grid::transparency() to Grid::setAlpha() and Grid::alpha() to make more sense.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 751</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Converted Prefs::ViewObject enum back into sequential ints, and adjusted related set/get to use bitshifting.</para>
		</listitem>
		<listitem>
			<para>Fixed CA_SHOWONSCREEN and CA_SHOWONIMAGE crashes.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 750</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>CA_LOADFF now returns a fail when the forcefield couldn't be loaded (corrected bug in Aten::loadForcefield()).</para>
		</listitem>
		<listitem>
			<para>In PatternAccess, 'firstatomid' and 'lastatomid' were returning the internal index [0 to N-1] rather than [1-N] - fixed.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 747</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Corrected About dialog for new website.</para>
		</listitem>
	</itemizedlist>
	
	<para><emphasis>Revision 746</emphasis></para>
	<itemizedlist mark='opencircle'>
		<listitem>
			<para>Adjusted changeversion script and updated debian-related build files.</para>
		</listitem>
	</itemizedlist>
	
</section>
